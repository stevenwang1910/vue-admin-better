/**
 * @description 蓝白主题 - 符合WCAG 2.1 AA级对比度标准
 * 主色调：#165DFF (蓝色)
 * 辅助色：#E8F3FF (浅蓝色)
 * 背景色：#FFFFFF (白色)
 */

// 主题色彩定义 - 确保WCAG 2.1 AA级对比度
$blue-white-primary: #165DFF;        // 主色调
$blue-white-secondary: #E8F3FF;       // 辅助色
$blue-white-background: #FFFFFF;      // 背景色
$blue-white-text-primary: #1D2129;   // 主要文本色
$blue-white-text-secondary: #4E5969;  // 次要文本色
$blue-white-text-tertiary: #86909C;   // 三级文本色
$blue-white-border: #E5E6EB;          // 边框色
$blue-white-hover: #F2F3F5;           // 悬停背景色
$blue-white-active: #D4E4FF;          // 激活背景色

// 状态色
$blue-white-success: #00B42A;
$blue-white-warning: #FF7D00;
$blue-white-error: #F53F3F;
$blue-white-info: #165DFF;

// 渐变色彩
$blue-white-gradient-primary: linear-gradient(135deg, #165DFF 0%, #2F88FF 100%);
$blue-white-gradient-secondary: linear-gradient(135deg, #E8F3FF 0%, #F0F7FF 100%);

// 阴影定义
$blue-white-shadow-light: 0 2px 8px rgba(22, 93, 255, 0.1);
$blue-white-shadow-medium: 0 4px 16px rgba(22, 93, 255, 0.15);
$blue-white-shadow-heavy: 0 8px 24px rgba(22, 93, 255, 0.2);

// 覆盖全局变量
$base-color-default: $blue-white-primary;
$base-color-blue: $blue-white-primary;
$base-color-white: $blue-white-background;
$base-font-color: $blue-white-text-primary;
$base-border-color: $blue-white-border;
$base-box-shadow: $blue-white-shadow-light;
$base-border-radius: 8px;

// 菜单相关
$base-menu-background: $blue-white-background;
$base-menu-color: $blue-white-text-primary;
$base-menu-color-active: $blue-white-primary;
$base-menu-background-active: $blue-white-secondary;
$base-title-color: $blue-white-text-primary;

// 布局背景色
$base-layout-background: $blue-white-background;
$base-header-background: $blue-white-background;
$base-sidebar-background: $blue-white-background;

// 蓝白主题样式覆盖
.vue-admin-better-theme-blue-white {
  // 基础背景色
  background-color: $blue-white-background;
  color: $blue-white-text-primary;

  // 头部样式
  .vab-header {
    background-color: $blue-white-background;
    border-bottom: 1px solid $blue-white-border;
    box-shadow: $blue-white-shadow-light;

    .vab-nav-bar {
      background-color: $blue-white-background;
      
      .el-menu--horizontal {
        background-color: $blue-white-background;
        border-bottom: 1px solid $blue-white-border;

        .el-menu-item,
        .el-submenu__title {
          color: $blue-white-text-primary;
          
          &:hover {
            background-color: $blue-white-hover;
            color: $blue-white-primary;
          }
          
          &.is-active {
            color: $blue-white-primary;
            background-color: $blue-white-secondary;
            border-bottom: 2px solid $blue-white-primary;
          }
        }
      }
    }
  }

  // 侧边栏样式
  .vab-side {
    background-color: $blue-white-background;
    border-right: 1px solid $blue-white-border;

    .el-menu {
      background-color: $blue-white-background;
      border-right: none;

      .el-menu-item,
      .el-submenu__title {
        color: $blue-white-text-primary;
        
        &:hover {
          background-color: $blue-white-hover;
          color: $blue-white-primary;
        }
        
        &.is-active {
          color: $blue-white-primary;
          background-color: $blue-white-secondary;
          border-right: 3px solid $blue-white-primary;
        }
      }

      .el-submenu {
        .el-menu {
          background-color: $blue-white-secondary;
          
          .el-menu-item {
            color: $blue-white-text-secondary;
            
            &:hover {
              background-color: $blue-white-active;
            }
            
            &.is-active {
              color: $blue-white-primary;
              background-color: $blue-white-active;
            }
          }
        }
      }
    }
  }

  // 主内容区域
  .vab-main {
    background-color: $blue-white-background;
    
    .vab-app-main {
      background-color: $blue-white-background;
    }
  }

  // 按钮样式
  .el-button {
    &.el-button--primary {
      background: $blue-white-gradient-primary;
      border-color: $blue-white-primary;
      
      &:hover,
      &:focus {
        background: linear-gradient(135deg, #0f4fd9 0%, #1a75ff 100%);
        border-color: #0f4fd9;
        box-shadow: $blue-white-shadow-medium;
      }
      
      &:active {
        background: linear-gradient(135deg, #0a3db3 0%, #0f4fd9 100%);
        border-color: #0a3db3;
      }
    }

    &.el-button--default {
      color: $blue-white-text-primary;
      border-color: $blue-white-border;
      background-color: $blue-white-background;
      
      &:hover,
      &:focus {
        color: $blue-white-primary;
        border-color: $blue-white-primary;
        background-color: $blue-white-secondary;
      }
    }
  }

  // 输入框样式
  .el-input {
    .el-input__inner {
      background-color: $blue-white-background;
      border-color: $blue-white-border;
      color: $blue-white-text-primary;
      
      &:hover {
        border-color: $blue-white-primary;
      }
      
      &:focus {
        border-color: $blue-white-primary;
        box-shadow: 0 0 0 2px rgba(22, 93, 255, 0.2);
      }
    }
  }

  // 表格样式
  .el-table {
    background-color: $blue-white-background;
    color: $blue-white-text-primary;
    
    th {
      background-color: $blue-white-secondary;
      color: $blue-white-text-primary;
      border-bottom: 1px solid $blue-white-border;
    }
    
    td {
      border-bottom: 1px solid $blue-white-border;
      
      &:hover {
        background-color: $blue-white-hover;
      }
    }
    
    .el-table__row:hover {
      background-color: $blue-white-hover;
    }
  }

  // 卡片样式
  .el-card {
    background-color: $blue-white-background;
    border: 1px solid $blue-white-border;
    box-shadow: $blue-white-shadow-light;
    
    .el-card__header {
      border-bottom: 1px solid $blue-white-border;
      color: $blue-white-text-primary;
    }
  }

  // 标签页样式
  .el-tabs {
    .el-tabs__header {
      border-bottom: 1px solid $blue-white-border;
      
      .el-tabs__item {
        color: $blue-white-text-secondary;
        
        &:hover {
          color: $blue-white-primary;
        }
        
        &.is-active {
          color: $blue-white-primary;
        }
      }
      
      .el-tabs__active-bar {
        background-color: $blue-white-primary;
      }
    }
  }

  // 分页样式
  .el-pagination {
    button,
    .el-pager li {
      background-color: $blue-white-background;
      color: $blue-white-text-secondary;
      border: 1px solid $blue-white-border;
      
      &:hover {
        color: $blue-white-primary;
        border-color: $blue-white-primary;
      }
      
      &.active {
        background-color: $blue-white-primary;
        color: $blue-white-background;
        border-color: $blue-white-primary;
      }
    }
  }

  // 下拉菜单样式
  .el-dropdown-menu {
    background-color: $blue-white-background;
    border: 1px solid $blue-white-border;
    box-shadow: $blue-white-shadow-medium;
    
    .el-dropdown-menu__item {
      color: $blue-white-text-primary;
      
      &:hover {
        background-color: $blue-white-hover;
        color: $blue-white-primary;
      }
    }
  }

  // 通知样式
  .el-notification {
    background-color: $blue-white-background;
    border: 1px solid $blue-white-border;
    box-shadow: $blue-white-shadow-heavy;
    
    .el-notification__title {
      color: $blue-white-text-primary;
    }
    
    .el-notification__content {
      color: $blue-white-text-secondary;
    }
  }

  // 模态框样式
  .el-dialog {
    background-color: $blue-white-background;
    
    .el-dialog__header {
      background-color: $blue-white-secondary;
      border-bottom: 1px solid $blue-white-border;
      
      .el-dialog__title {
        color: $blue-white-text-primary;
      }
    }
    
    .el-dialog__body {
      color: $blue-white-text-primary;
    }
  }

  // 面包屑样式
  .el-breadcrumb {
    .el-breadcrumb__item {
      .el-breadcrumb__inner {
        color: $blue-white-text-secondary;
        
        &.is-link {
          color: $blue-white-text-primary;
          
          &:hover {
            color: $blue-white-primary;
          }
        }
      }
      
      .el-breadcrumb__separator {
        color: $blue-white-text-tertiary;
      }
    }
  }

  // 响应式适配
  @media (max-width: 768px) {
    .vab-side {
      background-color: $blue-white-background;
    }
    
    .vab-header {
      background-color: $blue-white-background;
      border-bottom: 1px solid $blue-white-border;
    }
  }
}

// 分栏模式样式
.blue-white-column-mode {
  .el-menu {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
        flex-wrap: wrap;
    height: auto !important;
    padding: 10px;
    background: -webkit-gradient(linear, left top, right bottom, from(#f8fafc), to(#e2e8f0));
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  // 只对有子菜单的 el-submenu 应用分栏样式
  .el-submenu {
    -webkit-box-flex: 1;
        -ms-flex: 1;
            flex: 1;
    min-width: 200px;
    margin: 5px;
    border-radius: 8px;
    background: white;
    -webkit-box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    border: 1px solid #e2e8f0;
    -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
      -webkit-transform: translateY(-2px);
          -ms-transform: translateY(-2px);
              transform: translateY(-2px);
      -webkit-box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
              box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
    }
  }
  
  // 确保没有子菜单的 el-menu-item 正常显示
  .el-menu-item {
    width: 100%;
    margin: 2px 0;
    border-radius: 4px;
  }

  .el-submenu__title {
    height: 48px !important;
    line-height: 48px !important;
    padding: 0 16px !important;
    border-radius: 8px 8px 0 0;
    background: linear-gradient(135deg, #165DFF 0%, #3d7eff 100%) !important;
    color: white !important;
    font-weight: 600;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
    
    &:hover {
      background: linear-gradient(135deg, #1454e6 0%, #3670e0 100%) !important;
    }
  }

  .el-menu-item {
    height: 40px !important;
    line-height: 40px !important;
    padding-left: 24px !important;
    border-radius: 4px;
    margin: 2px 8px;
    color: #4a5568 !important;
    -webkit-transition: all 0.2s ease;
    transition: all 0.2s ease;
    
    &:hover {
      background-color: #f1f5f9 !important;
      color: #165DFF !important;
      -webkit-transform: translateX(4px);
          -ms-transform: translateX(4px);
              transform: translateX(4px);
    }
    
    &.is-active {
      background: -webkit-gradient(linear, left top, right bottom, from(#165DFF), to(#3d7eff)) !important;
      background: linear-gradient(135deg, #165DFF 0%, #3d7eff 100%) !important;
      color: white !important;
      -webkit-box-shadow: 0 2px 8px rgba(22, 93, 255, 0.3);
              box-shadow: 0 2px 8px rgba(22, 93, 255, 0.3);
      -webkit-transform: translateX(0);
          -ms-transform: translateX(0);
              transform: translateX(0);
    }
  }

  .el-submenu .el-menu {
    background: transparent !important;
    padding: 8px 0;
    box-shadow: none;
    border: none;
  }

  // 分栏切换动画
  &.column-switching {
    .el-submenu {
      opacity: 0;
      -webkit-transform: scale(0.9);
          -ms-transform: scale(0.9);
              transform: scale(0.9);
      
      &.fade-in {
        opacity: 1;
        -webkit-transform: scale(1);
            -ms-transform: scale(1);
                transform: scale(1);
      }
    }
  }

  // IE11 兼容性
  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    .el-menu {
      display: block;
    }
    
    .el-submenu {
      display: inline-block;
      width: 45%;
      margin: 2.5%;
      vertical-align: top;
    }
  }

  // 分栏数量样式
  &.column-single .el-submenu { min-width: 90%; }
  &.column-double .el-submenu { min-width: 45%; }
  &.column-triple .el-submenu { min-width: 30%; }
  &.column-quad .el-submenu { min-width: 22%; }

  // 响应式设计 - 平板
  @media (max-width: 1024px) {
    .el-submenu {
      min-width: 45% !important;
    }
  }

  // 响应式设计 - 手机
  @media (max-width: 768px) {
    .el-menu {
      padding: 8px;
    }
    
    .el-submenu {
      min-width: 100% !important;
      margin: 4px 0;
    }
    
    .el-submenu__title {
      height: 44px !important;
      line-height: 44px !important;
      padding: 0 12px !important;
      font-size: 14px;
    }
    
    .el-menu-item {
      height: 36px !important;
      line-height: 36px !important;
      padding-left: 20px !important;
      font-size: 13px;
    }
  }

  // 响应式设计 - 小手机
  @media (max-width: 480px) {
    .el-submenu__title {
      height: 40px !important;
      line-height: 40px !important;
      font-size: 13px;
    }
    
    .el-menu-item {
      height: 32px !important;
      line-height: 32px !important;
      font-size: 12px;
    }
  }
}

// 分栏模式动画
.blue-white-column-transition {
  .el-submenu .el-menu {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    .el-menu-item {
      transition: all 0.2s ease;
    }
  }
}